{"ast":null,"code":"import { inject } from '@angular/core';\nimport { catchError, throwError } from 'rxjs';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nexport const errorInterceptor = (req, next) => {\n  const authService = inject(AuthService);\n  const router = inject(Router);\n  return next(req).pipe(catchError(error => {\n    if (error.status === 401) {\n      // Token expirado ou inválido\n      authService.logout();\n      router.navigate(['/login']);\n    }\n    // Aqui você pode adicionar lógica para outros tipos de erro\n    console.error('Erro na requisição:', error);\n    return throwError(() => error);\n  }));\n};","map":{"version":3,"names":["inject","catchError","throwError","AuthService","Router","errorInterceptor","req","next","authService","router","pipe","error","status","logout","navigate","console"],"sources":["C:\\Users\\gabri\\OneDrive\\Documentos\\ProjetoWedsonFront\\src\\app\\core\\interceptors\\error.interceptor.ts"],"sourcesContent":["import { HttpInterceptorFn, HttpErrorResponse } from '@angular/common/http';\r\nimport { inject } from '@angular/core';\r\nimport { catchError, throwError } from 'rxjs';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\nexport const errorInterceptor: HttpInterceptorFn = (req, next) => {\r\n  const authService = inject(AuthService);\r\n  const router = inject(Router);\r\n\r\n  return next(req).pipe(\r\n    catchError((error: HttpErrorResponse) => {\r\n      if (error.status === 401) {\r\n        // Token expirado ou inválido\r\n        authService.logout();\r\n        router.navigate(['/login']);\r\n      }\r\n      \r\n      // Aqui você pode adicionar lógica para outros tipos de erro\r\n      console.error('Erro na requisição:', error);\r\n      \r\n      return throwError(() => error);\r\n    })\r\n  );\r\n};\r\n\r\n\r\n\r\n"],"mappings":"AACA,SAASA,MAAM,QAAQ,eAAe;AACtC,SAASC,UAAU,EAAEC,UAAU,QAAQ,MAAM;AAC7C,SAASC,WAAW,QAAQ,6BAA6B;AACzD,SAASC,MAAM,QAAQ,iBAAiB;AAExC,OAAO,MAAMC,gBAAgB,GAAsBA,CAACC,GAAG,EAAEC,IAAI,KAAI;EAC/D,MAAMC,WAAW,GAAGR,MAAM,CAACG,WAAW,CAAC;EACvC,MAAMM,MAAM,GAAGT,MAAM,CAACI,MAAM,CAAC;EAE7B,OAAOG,IAAI,CAACD,GAAG,CAAC,CAACI,IAAI,CACnBT,UAAU,CAAEU,KAAwB,IAAI;IACtC,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;MACxB;MACAJ,WAAW,CAACK,MAAM,EAAE;MACpBJ,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC7B;IAEA;IACAC,OAAO,CAACJ,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAE3C,OAAOT,UAAU,CAAC,MAAMS,KAAK,CAAC;EAChC,CAAC,CAAC,CACH;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}